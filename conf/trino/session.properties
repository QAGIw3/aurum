# Default session tuning for Iceberg lakehouse analytics.
catalog=iceberg
schema=external
spill_enabled=true
allow_pushdown_into_connectors=true
complex_expression_pushdown=true
predicate_pushdown_use_table_properties=true

# Default resource limits - conservative settings for mixed workloads
query_max_memory=8GB
query_max_memory_per_node=2GB
query_max_total_memory=16GB

# Query execution tuning
query_max_stage_count=100
query_max_execution_time=30m
query_max_run_time=30m
query_max_cpu_time=20m

# Resource management
resource_overcommit=true
memory_revoking_threshold=0.9
memory_revoking_target=0.5

# Hash partitioning for large joins
hash_partition_count=100
join_reordering_strategy=COST_BASED
join_max_broadcast_table_size=100MB

# Spill configuration for memory pressure
spill_compression_codec=ZSTD
spill_max_used_space_threshold=0.9
spill_min_free_space_threshold=0.1
