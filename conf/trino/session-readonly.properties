# Read-only user session properties - optimized for dashboard and reporting queries
catalog=iceberg
schema=external

# Conservative resource limits for high-concurrency read workloads
query_max_memory=4GB
query_max_memory_per_node=1GB
query_max_total_memory=8GB

# Shorter timeouts for interactive queries
query_max_execution_time=10m
query_max_run_time=10m
query_max_cpu_time=5m

# Optimized for simple read patterns
query_max_stage_count=50
hash_partition_count=50
join_reordering_strategy=COST_BASED
join_max_broadcast_table_size=50MB

# Aggressive memory management for high concurrency
resource_overcommit=true
memory_revoking_threshold=0.8
memory_revoking_target=0.6

# Spill configuration
spill_enabled=true
spill_compression_codec=ZSTD
spill_max_used_space_threshold=0.8
spill_min_free_space_threshold=0.2

# Read optimization features
predicate_pushdown_use_table_properties=true
allow_pushdown_into_connectors=true
complex_expression_pushdown=true

# Query result limits for dashboard safety
query_max_output_positions=1000000
query_max_output_bytes=1GB

# Disable write operations
allow_create_table=false
allow_create_view=false
allow_create_function=false
allow_drop_table=false
allow_execute_function=false
