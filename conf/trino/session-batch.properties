# Batch processing session properties - optimized for ETL and large data processing
catalog=iceberg
schema=external

# High resource allocation for batch workloads
query_max_memory=64GB
query_max_memory_per_node=16GB
query_max_total_memory=128GB

# Extended timeouts for long-running batch operations
query_max_execution_time=4h
query_max_run_time=4h
query_max_cpu_time=3h

# Optimized for large-scale data processing
query_max_stage_count=300
hash_partition_count=300
join_reordering_strategy=COST_BASED
join_max_broadcast_table_size=1GB

# Memory management for large datasets
resource_overcommit=true
memory_revoking_threshold=0.95
memory_revoking_target=0.2

# Aggressive spill configuration for large data volumes
spill_enabled=true
spill_compression_codec=ZSTD
spill_max_used_space_threshold=0.95
spill_min_free_space_threshold=0.05

# Batch processing optimizations
allow_pushdown_into_connectors=true
complex_expression_pushdown=true
predicate_pushdown_use_table_properties=true

# Large result handling
query_max_output_positions=10000000
query_max_output_bytes=10GB

# Enable write operations for ETL
allow_create_table=true
allow_create_view=true
allow_create_function=true
allow_drop_table=true
allow_execute_function=true

# Statistics for query planning
statistics_enabled=true
statistics_precalculation_for_pushdown_enabled=true
