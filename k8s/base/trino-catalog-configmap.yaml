apiVersion: v1
kind: ConfigMap
metadata:
  name: trino-catalog
  namespace: aurum-dev
data:
  timescale.properties: |
    connector.name=postgresql
    connection-url=jdbc:postgresql://timescale:5432/${ENV:TIMESCALE_DB}
    connection-user=${ENV:TIMESCALE_USER}
    connection-password=${ENV:TIMESCALE_PASSWORD}
    case-insensitive-name-matching=true
  clickhouse.properties: |
    connector.name=clickhouse
    connection-url=jdbc:clickhouse://clickhouse:8123/ops
  kafka.properties: |
    connector.name=kafka
    kafka.nodes=${ENV:KAFKA_INTERNAL_BOOTSTRAP}
    kafka.security-protocol=PLAINTEXT
    kafka.default-schema=public
    kafka.hide-internal-columns=true
  iceberg.properties: |
    connector.name=iceberg
    iceberg.catalog.type=rest
    iceberg.rest-catalog.uri=http://nessie.aurum-dev.svc.cluster.local:19121/api/v1
    iceberg.file-format=PARQUET
    hive.s3.endpoint=http://minio.aurum-dev.svc.cluster.local:9000
    hive.s3.path-style-access=true
    hive.s3.aws-access-key=${ENV:AWS_ACCESS_KEY_ID}
    hive.s3.aws-secret-key=${ENV:AWS_SECRET_ACCESS_KEY}
    hive.s3.region=us-east-1

  hive.properties: |
    connector.name=hive
    hive.metastore.uri=thrift://hive-metastore.aurum-dev.svc.cluster.local:9083
    hive.s3.endpoint=http://minio.aurum-dev.svc.cluster.local:9000
    hive.s3.path-style-access=true
    hive.s3.aws-access-key=${ENV:AWS_ACCESS_KEY_ID}
    hive.s3.aws-secret-key=${ENV:AWS_SECRET_ACCESS_KEY}
    hive.s3.region=us-east-1

